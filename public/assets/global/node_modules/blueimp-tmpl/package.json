{
  "_args": [
    [
      {
        "raw": "blueimp-tmpl@^3.11.0",
        "scope": null,
        "escapedName": "blueimp-tmpl",
        "name": "blueimp-tmpl",
        "rawSpec": "^3.11.0",
        "spec": ">=3.11.0 <4.0.0",
        "type": "range"
      },
      "/var/www/site/tests/jabee/public/assets/global"
    ]
  ],
  "_from": "blueimp-tmpl@>=3.11.0 <4.0.0",
  "_id": "blueimp-tmpl@3.11.0",
  "_inCache": true,
  "_location": "/blueimp-tmpl",
  "_nodeVersion": "8.4.0",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/blueimp-tmpl-3.11.0.tgz_1503874268597_0.24556672340258956"
  },
  "_npmUser": {
    "name": "blueimp",
    "email": "mail@blueimp.net"
  },
  "_npmVersion": "5.4.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "blueimp-tmpl@^3.11.0",
    "scope": null,
    "escapedName": "blueimp-tmpl",
    "name": "blueimp-tmpl",
    "rawSpec": "^3.11.0",
    "spec": ">=3.11.0 <4.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/blueimp-tmpl/-/blueimp-tmpl-3.11.0.tgz",
  "_shasum": "47e78cbab16770e3922b019a250b4ad9c7b20f8f",
  "_shrinkwrap": null,
  "_spec": "blueimp-tmpl@^3.11.0",
  "_where": "/var/www/site/tests/jabee/public/assets/global",
  "author": {
    "name": "Sebastian Tschan",
    "url": "https://blueimp.net"
  },
  "bin": {
    "tmpl.js": "js/compile.js"
  },
  "bugs": {
    "url": "https://github.com/blueimp/JavaScript-Templates/issues"
  },
  "dependencies": {},
  "description": "1KB lightweight, fast & powerful JavaScript templating engine with zero dependencies. Compatible with server-side environments like Node.js, module loaders like RequireJS, Browserify or webpack and all web browsers.",
  "devDependencies": {
    "chai": "^4.1.1",
    "eslint": "^4.5.0",
    "eslint-config-standard": "^10.2.1",
    "eslint-plugin-import": "^2.7.0",
    "eslint-plugin-node": "^5.1.1",
    "eslint-plugin-promise": "^3.5.0",
    "eslint-plugin-standard": "^3.0.1",
    "mocha": "^3.5.0",
    "prettier-eslint-cli": "^4.2.1",
    "uglify-js": "^3.0.28"
  },
  "directories": {},
  "dist": {
    "integrity": "sha512-+nzph90GQ7YzYdOJNLm1hHJrzWnWbxUGJyJVrLBD+q7HF6PIIjJVNrJCgLkFmNcNvJRKICvWuItL8NpH9Z8J5A==",
    "shasum": "47e78cbab16770e3922b019a250b4ad9c7b20f8f",
    "tarball": "https://registry.npmjs.org/blueimp-tmpl/-/blueimp-tmpl-3.11.0.tgz"
  },
  "gitHead": "da7647cb93fff2030e73a701db22c66de76a9919",
  "homepage": "https://github.com/blueimp/JavaScript-Templates",
  "keywords": [
    "javascript",
    "templates",
    "templating"
  ],
  "license": "MIT",
  "main": "js/tmpl.js",
  "maintainers": [
    {
      "name": "blueimp",
      "email": "sebastian.tschan@gmail.com"
    }
  ],
  "name": "blueimp-tmpl",
  "optionalDependencies": {},
  "readme": "# JavaScript Templates\n\n## Demo\n[JavaScript Templates Demo](https://blueimp.github.io/JavaScript-Templates/)\n\n## Description\n1KB lightweight, fast & powerful JavaScript templating engine with zero\ndependencies. Compatible with server-side environments like Node.js, module\nloaders like RequireJS, Browserify or webpack and all web browsers.\n\n## Usage\n\n### Client-side\nInclude the (minified) JavaScript Templates script in your HTML markup:\n\n```html\n<script src=\"js/tmpl.min.js\"></script>\n```\n\nAdd a script section with type **\"text/x-tmpl\"**, a unique **id** property and\nyour template definition as content:\n\n```html\n<script type=\"text/x-tmpl\" id=\"tmpl-demo\">\n<h3>{%=o.title%}</h3>\n<p>Released under the\n<a href=\"{%=o.license.url%}\">{%=o.license.name%}</a>.</p>\n<h4>Features</h4>\n<ul>\n{% for (var i=0; i<o.features.length; i++) { %}\n    <li>{%=o.features[i]%}</li>\n{% } %}\n</ul>\n</script>\n```\n\n**\"o\"** (the lowercase letter) is a reference to the data parameter of the\ntemplate function (see the API section on how to modify this identifier).\n\nIn your application code, create a JavaScript object to use as data for the\ntemplate:\n\n```js\nvar data = {\n    \"title\": \"JavaScript Templates\",\n    \"license\": {\n        \"name\": \"MIT license\",\n        \"url\": \"https://opensource.org/licenses/MIT\"\n    },\n    \"features\": [\n        \"lightweight & fast\",\n        \"powerful\",\n        \"zero dependencies\"\n    ]\n};\n```\n\nIn a real application, this data could be the result of retrieving a\n[JSON](http://json.org/) resource.\n\nRender the result by calling the **tmpl()** method with the id of the template\nand the data object as arguments:\n\n```js\ndocument.getElementById(\"result\").innerHTML = tmpl(\"tmpl-demo\", data);\n```\n\n### Server-side\n\nThe following is an example how to use the JavaScript Templates engine on the\nserver-side with [node.js](http://nodejs.org/).\n\nCreate a new directory and add the **tmpl.js** file. Or alternatively, install\nthe **blueimp-tmpl** package with [npm](https://www.npmjs.org/):\n\n```sh\nnpm install blueimp-tmpl\n```\n\nAdd a file **template.html** with the following content:\n\n```html\n<!DOCTYPE HTML>\n<title>{%=o.title%}</title>\n<h3><a href=\"{%=o.url%}\">{%=o.title%}</a></h3>\n<h4>Features</h4>\n<ul>\n{% for (var i=0; i<o.features.length; i++) { %}\n    <li>{%=o.features[i]%}</li>\n{% } %}\n</ul>\n```\n\nAdd a file **server.js** with the following content:\n\n```js\nrequire(\"http\").createServer(function (req, res) {\n    var fs = require(\"fs\"),\n        // The tmpl module exports the tmpl() function:\n        tmpl = require(\"./tmpl\"),\n        // Use the following version if you installed the package with npm:\n        // tmpl = require(\"blueimp-tmpl\"),\n        // Sample data:\n        data = {\n            \"title\": \"JavaScript Templates\",\n            \"url\": \"https://github.com/blueimp/JavaScript-Templates\",\n            \"features\": [\n                \"lightweight & fast\",\n                \"powerful\",\n                \"zero dependencies\"\n            ]\n        };\n    // Override the template loading method:\n    tmpl.load = function (id) {\n        var filename = id + \".html\";\n        console.log(\"Loading \" + filename);\n        return fs.readFileSync(filename, \"utf8\");\n    };\n    res.writeHead(200, {\"Content-Type\": \"text/x-tmpl\"});\n    // Render the content:\n    res.end(tmpl(\"template\", data));\n}).listen(8080, \"localhost\");\nconsole.log(\"Server running at http://localhost:8080/\");\n```\n\nRun the application with the following command:\n\n```sh\nnode server.js\n```\n\n## Requirements\nThe JavaScript Templates script has zero dependencies.\n\n## API\n\n### tmpl() function\nThe **tmpl()** function is added to the global **window** object and can be\ncalled as global function:\n\n```js\nvar result = tmpl(\"tmpl-demo\", data);\n```\n\nThe **tmpl()** function can be called with the id of a template, or with a\ntemplate string:\n\n```js\nvar result = tmpl(\"<h3>{%=o.title%}</h3>\", data);\n```\n\nIf called without second argument, **tmpl()** returns a reusable template\nfunction:\n\n```js\nvar func = tmpl(\"<h3>{%=o.title%}</h3>\");\ndocument.getElementById(\"result\").innerHTML = func(data);\n```\n\n### Templates cache\nTemplates loaded by id are cached in the map **tmpl.cache**:\n\n```js\nvar func = tmpl(\"tmpl-demo\"), // Loads and parses the template\n    cached = typeof tmpl.cache[\"tmpl-demo\"] === \"function\", // true\n    result = tmpl(\"tmpl-demo\", data); // Uses cached template function\n\ntmpl.cache[\"tmpl-demo\"] = null;\nresult = tmpl(\"tmpl-demo\", data); // Loads and parses the template again\n```\n\n### Output encoding\nThe method **tmpl.encode** is used to escape HTML special characters in the\ntemplate output:\n\n```js\nvar output = tmpl.encode(\"<>&\\\"'\\x00\"); // Renders \"&lt;&gt;&amp;&quot;&#39;\"\n```\n\n**tmpl.encode** makes use of the regular expression **tmpl.encReg** and the\nencoding map **tmpl.encMap** to match and replace special characters, which can\nbe modified to change the behavior of the output encoding.  \nStrings matched by the regular expression, but not found in the encoding map are\nremoved from the output. This allows for example to automatically trim input\nvalues (removing whitespace from the start and end of the string):\n\n```js\ntmpl.encReg = /(^\\s+)|(\\s+$)|[<>&\"'\\x00]/g;\nvar output = tmpl.encode(\"    Banana!    \"); // Renders \"Banana\" (without whitespace)\n```\n\n### Local helper variables\nThe local variables available inside the templates are the following:\n\n* **o**: The data object given as parameter to the template function\n(see the next section on how to modify the parameter name).\n* **tmpl**: A reference to the **tmpl** function object.\n* **_s**: The string for the rendered result content.\n* **_e**: A reference to the **tmpl.encode** method.\n* **print**: Helper function to add content to the rendered result string.\n* **include**: Helper function to include the return value of a different\ntemplate in the result.\n\nTo introduce additional local helper variables, the string **tmpl.helper** can\nbe extended. The following adds a convenience function for *console.log* and a\nstreaming function, that streams the template rendering result back to the\ncallback argument\n(note the comma at the beginning of each variable declaration):\n\n```js\ntmpl.helper += \",log=function(){console.log.apply(console, arguments)}\" +\n    \",st='',stream=function(cb){var l=st.length;st=_s;cb( _s.slice(l));}\";\n```\n\nThose new helper functions could be used to stream the template contents to the\nconsole output:\n\n```html\n<script type=\"text/x-tmpl\" id=\"tmpl-demo\">\n<h3>{%=o.title%}</h3>\n{% stream(log); %}\n<p>Released under the\n<a href=\"{%=o.license.url%}\">{%=o.license.name%}</a>.</p>\n{% stream(log); %}\n<h4>Features</h4>\n<ul>\n{% stream(log); %}\n{% for (var i=0; i<o.features.length; i++) { %}\n    <li>{%=o.features[i]%}</li>\n    {% stream(log); %}\n{% } %}\n</ul>\n{% stream(log); %}\n</script>\n```\n\n### Template function argument\nThe generated template functions accept one argument, which is the data object\ngiven to the **tmpl(id, data)** function. This argument is available inside the\ntemplate definitions as parameter **o** (the lowercase letter).\n\nThe argument name can be modified by overriding **tmpl.arg**:\n\n```js\ntmpl.arg = \"p\";\n\n// Renders \"<h3>JavaScript Templates</h3>\":\nvar result = tmpl(\"<h3>{%=p.title%}</h3>\", {title: \"JavaScript Templates\"});\n```\n\n### Template parsing\nThe template contents are matched and replaced using the regular expression\n**tmpl.regexp** and the replacement function **tmpl.func**.\nThe replacement function operates based on the\n[parenthesized submatch strings](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_function_as_a_parameter).\n\nTo use different tags for the template syntax, override **tmpl.regexp** with a\nmodified regular expression, by exchanging all occurrences of \"{%\" and \"%}\",\ne.g. with \"[%\" and \"%]\":\n\n```js\ntmpl.regexp = /([\\s'\\\\])(?!(?:[^[]|\\[(?!%))*%\\])|(?:\\[%(=|#)([\\s\\S]+?)%\\])|(\\[%)|(%\\])/g;\n```\n\nBy default, the plugin preserves whitespace\n(newlines, carriage returns, tabs and spaces).\nTo strip unnecessary whitespace, you can override the **tmpl.func** function,\ne.g. with the following code:\n\n```js\nvar originalFunc = tmpl.func;\ntmpl.func = function (s, p1, p2, p3, p4, p5, offset, str) {\n    if (p1 && /\\s/.test(p1)) {\n        if (!offset || /\\s/.test(str.charAt(offset - 1)) ||\n                /^\\s+$/g.test(str.slice(offset))) {\n            return '';\n        }\n        return ' ';\n    }\n    return originalFunc.apply(tmpl, arguments);\n};\n```\n\n## Templates syntax\n\n### Interpolation\nPrint variable with HTML special characters escaped:\n\n```html\n<h3>{%=o.title%}</h3>\n```\n\nPrint variable without escaping:\n\n```html\n<h3>{%#o.user_id%}</h3>\n```\n\nPrint output of function calls:\n\n```html\n<a href=\"{%=encodeURI(o.url)%}\">Website</a>\n```\n\nUse dot notation to print nested properties:\n\n```html\n<strong>{%=o.author.name%}</strong>\n```\n\n### Evaluation\nUse **print(str)** to add escaped content to the output:\n\n```html\n<span>Year: {% var d=new Date(); print(d.getFullYear()); %}</span>\n```\n\nUse **print(str, true)** to add unescaped content to the output:\n\n```html\n<span>{% print(\"Fast &amp; powerful\", true); %}</span>\n```\n\nUse **include(str, obj)** to include content from a different template:\n\n```html\n<div>\n{% include('tmpl-link', {name: \"Website\", url: \"https://example.org\"}); %}\n</div>\n```\n\n**If else condition**:\n\n```html\n{% if (o.author.url) { %}\n    <a href=\"{%=encodeURI(o.author.url)%}\">{%=o.author.name%}</a>\n{% } else { %}\n    <em>No author url.</em>\n{% } %}\n```\n\n**For loop**:\n\n```html\n<ul>\n{% for (var i=0; i<o.features.length; i++) { %}\n    <li>{%=o.features[i]%}</li>\n{% } %}\n</ul>\n```\n\n## Compiled templates\nThe JavaScript Templates project comes with a compilation script, that allows\nyou to compile your templates into JavaScript code and combine them with a\nminimal Templates runtime into one combined JavaScript file.\n\nThe compilation script is built for [node.js](http://nodejs.org/).  \nTo use it, first install the JavaScript Templates project via\n[npm](https://www.npmjs.org/):\n\n```sh\nnpm install blueimp-tmpl\n```\n\nThis will put the executable **tmpl.js** into the folder **node_modules/.bin**.\nIt will also make it available on your PATH if you install the package globally\n(by adding the **-g** flag to the install command).\n\nThe **tmpl.js** executable accepts the paths to one or multiple template files\nas command line arguments and prints the generated JavaScript code to the\nconsole output. The following command line shows you how to store the generated\ncode in a new JavaScript file that can be included in your project:\n\n```sh\ntmpl.js index.html > tmpl.js\n```\n\nThe files given as command line arguments to **tmpl.js** can either be pure\ntemplate files or HTML documents with embedded template script sections.\nFor the pure template files, the file names (without extension) serve as\ntemplate ids.  \nThe generated file can be included in your project as a replacement for the\noriginal **tmpl.js** runtime. It provides you with the same API and provides a\n**tmpl(id, data)** function that accepts the id of one of your templates as\nfirst and a data object as optional second parameter.\n\n## Tests\nThe JavaScript Templates project comes with\n[Unit Tests](https://en.wikipedia.org/wiki/Unit_testing).  \nThere are two different ways to run the tests:\n\n* Open test/index.html in your browser or\n* run `npm test` in the Terminal in the root path of the repository package.\n\nThe first one tests the browser integration,\nthe second one the [node.js](http://nodejs.org/) integration.\n\n## License\nThe JavaScript Templates script is released under the\n[MIT license](https://opensource.org/licenses/MIT).\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/blueimp/JavaScript-Templates.git"
  },
  "scripts": {
    "build": "cd js && uglifyjs tmpl.js -c -m -o tmpl.min.js --source-map url=tmpl.min.js.map",
    "format": "prettier-eslint --no-semi --single-quote --write **/*.js",
    "lint": "eslint .",
    "postversion": "git push --tags origin master master:gh-pages && npm publish",
    "preversion": "npm test",
    "test": "npm run lint && npm run unit",
    "unit": "mocha",
    "version": "npm run build && git add -A js"
  },
  "title": "JavaScript Templates",
  "version": "3.11.0"
}
